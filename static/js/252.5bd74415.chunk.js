"use strict";(self.webpackChunkreact_spa_template=self.webpackChunkreact_spa_template||[]).push([[252],{1252:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var n=i(7294),r=i(4551),l=i(6447),a=i(2658),c=i(4854),o=i(5944);function d(e){return(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",onClick:e.getTicket,children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(c.Z,{}),(0,o.tZ)(a.Z,{children:"Get Ticket"})]})})}var s=i(6272),u=i(4449),Z=i(4510),h=i(4927),m=i(721);function g({submitCalculatePrice:e,submitPaymentChoice:t}){const[i,c]=(0,n.useState)(""),[d,g]=(0,n.useState)("button"),f=()=>{null!=e(i)&&g("choose-payment-method")},b=e=>{t(i,e),g("button")};return(0,o.BX)("main",{children:["button"==d&&(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",onClick:()=>{g("enter-barcode")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(u.Z,{}),(0,o.tZ)(a.Z,{children:"Begin Payment"})]})}),"enter-barcode"==d&&(0,o.BX)(l.Z,{direction:"column",spacing:2,justifyContent:"center",maxWidth:"100%",children:[(0,o.tZ)(s.Z,{required:!0,label:"Enter Barcode Here",placeholder:"16 Digit Barcode",variant:"outlined",fullWidth:!0,size:"large",onKeyDown:e=>{13==e.keyCode&&(e.preventDefault(),f())},onChange:e=>{c(e.target.value)}}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",onClick:()=>{f()},children:(0,o.tZ)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,o.tZ)(a.Z,{children:"Submit"})})}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"error",size:"large",variant:"contained",onClick:()=>{g("button")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(Z.Z,{}),(0,o.tZ)(a.Z,{children:"Cancel"})]})})]}),"choose-payment-method"==d&&(0,o.BX)(l.Z,{direction:"column",spacing:2,justifyContent:"center",maxWidth:"100%",children:[(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"inherit",size:"large",variant:"outlined",onClick:()=>{b("credit_card")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(h.Z,{}),(0,o.tZ)(a.Z,{children:"Credit Card"})]})}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"inherit",size:"large",variant:"outlined",onClick:()=>{b("debit_card")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(h.Z,{}),(0,o.tZ)(a.Z,{children:"Debit Card"})]})}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"inherit",size:"large",variant:"outlined",onClick:()=>{b("cash")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(m.Z,{}),(0,o.tZ)(a.Z,{children:"Cash"})]})}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"error",size:"large",variant:"contained",onClick:()=>{g("button")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(Z.Z,{}),(0,o.tZ)(a.Z,{children:"Cancel"})]})})]})]})}var f=i(9944);function b({submitGetTicketState:e}){const[t,i]=(0,n.useState)(""),[c,d]=(0,n.useState)("button"),u=()=>{null!=e(t)&&d("button")};return(0,o.BX)("main",{children:["button"==c&&(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",onClick:()=>{d("enter-barcode")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(f.Z,{}),(0,o.tZ)(a.Z,{children:"Get Ticket State"})]})}),"enter-barcode"==c&&(0,o.BX)(l.Z,{direction:"column",spacing:2,justifyContent:"center",maxWidth:"100%",children:[(0,o.tZ)(s.Z,{required:!0,label:"Enter Barcode Here",placeholder:"16 Digit Barcode",variant:"outlined",fullWidth:!0,onKeyDown:e=>{13==e.keyCode&&(e.preventDefault(),u())},onChange:e=>{i(e.target.value)}}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",onClick:()=>{u()},children:(0,o.tZ)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,o.tZ)(a.Z,{children:"Submit"})})}),(0,o.tZ)(r.Z,{sx:{width:"-webkit-fill-available"},color:"error",size:"large",variant:"contained",onClick:()=>{d("button")},children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(Z.Z,{}),(0,o.tZ)(a.Z,{children:"Cancel"})]})})]})]})}var y=i(7547);function k({capacity:e}){return(0,o.tZ)(r.Z,{disableRipple:!0,sx:{width:"-webkit-fill-available"},size:"large",variant:"outlined",color:"inherit",children:(0,o.BX)(l.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,o.tZ)(y.Z,{}),(0,o.BX)(a.Z,{children:["Spa Capacity: ",e]})]})})}var C=i(5725);const p=new Map(JSON.parse(localStorage.getItem("customers")));var v=localStorage.getItem("activeCustomerCount");function w(){const[e,t]=(0,n.useState)(v),[i,r]=(0,n.useState)(""),l=()=>{if(e>=60)return console.log("Sorry, the spa is currently full"),r("Sorry, the spa is currently full"),null;let i=(Math.random()+" ").substring(2,10)+(Math.random()+" ").substring(2,10);return p.set(i,{entryTime:Date.now(),ticketStatus:"unpaid",timePaid:null,paymentMethod:null}),v++,t(v),r("Your barcode is: "+i),localStorage.setItem("customers",JSON.stringify(Array.from(p.entries()))),localStorage.setItem("activeCustomerCount",v),i},c=e=>{("number"==typeof e||e instanceof Number)&&(e=e.toString());let t=p.get(e);if(t){if("paid"==t.ticketStatus)return r("Ticket already paid"),0;{let e=(Date.now()-t.entryTime)/1e3/60/60;if(e<=3)return console.log("Payment: $30"),r("Payment: $30"),30;{let t=Math.ceil(e-3);return console.log("Payment: $"+(30+3*t).toString()),r("Payment: $"+(30+3*t).toString()),30+3*t}}}return console.log("Barcode Invalid"),r("Barcode Invalid"),null},s=(i,n)=>{("number"==typeof i||i instanceof Number)&&(i=i.toString());let l=p.get(i);return"paid"==l.ticketStatus?(console.log("Ticket already paid"),r("Ticket already paid"),"Ticket already paid for"):(localStorage.setItem("activeCustomerCount",e),l.ticketStatus="paid",l.paymentMethod=n,l.timePaid=Date.now(),p.set(i,l),localStorage.setItem("customers",JSON.stringify(Array.from(p.entries()))),v--,t(v),localStorage.setItem("activeCustomerCount",v),r("Ticket "+i+" paid successfully"),"Ticket "+i+" paid successfully")},u=e=>{("number"==typeof e||e instanceof Number)&&(e=e.toString());let t=p.get(e);return console.log(t),t?(console.log(t.ticketStatus),r("Ticket "+e+" is: "+t.ticketStatus),t.ticketStatus):null},Z=()=>60-e;return(0,n.useEffect)((()=>{window.getTicket=l,window.calculatePrice=c,window.payTicket=s,window.getTicketState=u,window.getFreeSpaces=Z})),(0,o.BX)("main",{children:[(0,o.tZ)(a.Z,{align:"center",variant:"h4",children:i}),(0,o.BX)(C.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[(0,o.tZ)(C.ZP,{item:!0,xs:3,children:(0,o.tZ)(d,{getTicket:()=>{l()}})}),(0,o.tZ)(C.ZP,{item:!0,xs:3,children:(0,o.tZ)(g,{submitCalculatePrice:e=>c(e),submitPaymentChoice:(e,t)=>{s(e,t)}})}),(0,o.tZ)(C.ZP,{item:!0,xs:3,children:(0,o.tZ)(b,{submitGetTicketState:e=>u(e)})}),(0,o.tZ)(C.ZP,{item:!0,xs:3,children:(0,o.tZ)(k,{capacity:60-e})})]})]})}const S={name:"agvie1",styles:"h1{font-size:5rem;font-weight:600;text-align:center;}"};var B=()=>(0,o.BX)("div",{css:[S,"",""],children:[(0,o.tZ)("h1",{className:"title",children:"Welcome to Simple Spa!"}),(0,o.tZ)(w,{})]})}}]);